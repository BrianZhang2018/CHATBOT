# Modelfile for Mistral with RAG LoRA
FROM mistral:7b-instruct

# Add LoRA weights (when available)
# PARAMETER lora_weights "./lora_weights"

# RAG-specific parameters
PARAMETER temperature 0.7
PARAMETER top_p 0.9
PARAMETER top_k 40

# System prompt for RAG
SYSTEM "You are a helpful AI assistant that uses RAG (Retrieval Augmented Generation) to provide accurate, context-aware responses. When answering questions, you should:
1. Use retrieved context when available
2. Cite sources and references
3. Be specific and factual
4. Acknowledge when information comes from retrieved documents"

# Template for RAG responses
TEMPLATE "{{ if .System }}<|im_start|>system
{{ .System }}<|im_end|>
{{ end }}{{ if .Prompt }}<|im_start|>user
{{ .Prompt }}<|im_end|>
<|im_start|>assistant
{{ end }}"
